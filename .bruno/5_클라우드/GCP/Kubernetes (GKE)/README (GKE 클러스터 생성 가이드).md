# GCP GKE í´ëŸ¬ìŠ¤í„° ìƒì„± ê°€ì´ë“œ

## ğŸ“‹ **ê°œìš”**
ì´ ê°€ì´ë“œëŠ” GCP GKE í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ì„¹ì…˜ë³„ ê·¸ë£¹í•‘ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ì§ê´€ì ì´ê³  ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ **í´ëŸ¬ìŠ¤í„° ëª¨ë“œ**

### **1. Standard ëª¨ë“œ**
- **íŠ¹ì§•**: ì‚¬ìš©ìê°€ ì§ì ‘ ë…¸ë“œí’€ì„ ê´€ë¦¬
- **ë…¸ë“œí’€**: í•„ìˆ˜ (ìµœì†Œ 1ê°œ)
- **ì‚¬ìš© ì‚¬ë¡€**: ì„¸ë°€í•œ ì œì–´ê°€ í•„ìš”í•œ í”„ë¡œë•ì…˜ í™˜ê²½

### **2. Autopilot ëª¨ë“œ**
- **íŠ¹ì§•**: GKEê°€ ìë™ìœ¼ë¡œ ì¸í”„ë¼ ê´€ë¦¬
- **ë…¸ë“œí’€**: ë¶ˆí•„ìš” (GKEê°€ ìë™ ê´€ë¦¬)
- **ì‚¬ìš© ì‚¬ë¡€**: ê°„í¸í•œ ê´€ë¦¬ê°€ í•„ìš”í•œ ê°œë°œ/í…ŒìŠ¤íŠ¸ í™˜ê²½

## ğŸ—ï¸ **ì„¹ì…˜ë³„ êµ¬ì¡°**

### **ê¸°ë³¸ ì •ë³´ (í•„ìˆ˜)**
```json
{
  "credential_id": "{{gcp_credentialsId}}",
  "name": "cluster-name",
  "version": "1.28",
  "region": "asia-northeast3",
  "zone": "asia-northeast3-a",
  "project_id": "{{gcp_project_id}}"
}
```

### **ë„¤íŠ¸ì›Œí¬ ì„¤ì • (í•„ìˆ˜)**
```json
{
  "network": {
    "vpc_id": "projects/{{gcp_project_id}}/global/networks/default",
    "subnet_id": "projects/{{gcp_project_id}}/regions/asia-northeast3/subnetworks/default",
    "private_nodes": false,
    "private_endpoint": false,
    "master_authorized_networks": ["0.0.0.0/0"],
    "pod_cidr": "10.0.0.0/16",
    "service_cidr": "10.1.0.0/16"
  }
}
```

### **ë…¸ë“œí’€ ì„¤ì • (Standard ëª¨ë“œ í•„ìˆ˜)**
```json
{
  "node_pool": {
    "name": "default-pool",
    "machine_type": "e2-medium",
    "disk_size_gb": 20,
    "disk_type": "pd-standard",
    "node_count": 1,
    "auto_scaling": {
      "enabled": true,
      "min_node_count": 1,
      "max_node_count": 3
    },
    "labels": {
      "environment": "development"
    },
    "preemptible": false,
    "spot": false
  }
}
```

### **ë³´ì•ˆ ì„¤ì • (ì„ íƒ)**
```json
{
  "security": {
    "workload_identity": true,
    "binary_authorization": false,
    "network_policy": true,
    "pod_security_policy": false
  }
}
```

### **í´ëŸ¬ìŠ¤í„° ëª¨ë“œ ì„¤ì • (ì„ íƒ)**
```json
{
  "cluster_mode": {
    "type": "standard",
    "remove_default_node_pool": false
  }
}
```

## ğŸ“ **Bruno ì˜ˆì œ íŒŒì¼**

### **1. í´ëŸ¬ìŠ¤í„° ìƒì„± (Standard ëª¨ë“œ)**
- **íŒŒì¼**: `í´ëŸ¬ìŠ¤í„° ìƒì„± (Standard ëª¨ë“œ).bru`
- **ì„¤ëª…**: ê¸°ë³¸ì ì¸ Standard ëª¨ë“œ í´ëŸ¬ìŠ¤í„° ìƒì„±
- **íŠ¹ì§•**: ë…¸ë“œí’€ í¬í•¨, ì˜¤í† ìŠ¤ì¼€ì¼ë§ í™œì„±í™”

### **2. í´ëŸ¬ìŠ¤í„° ìƒì„± (Autopilot ëª¨ë“œ)**
- **íŒŒì¼**: `í´ëŸ¬ìŠ¤í„° ìƒì„± (Autopilot ëª¨ë“œ).bru`
- **ì„¤ëª…**: Autopilot ëª¨ë“œ í´ëŸ¬ìŠ¤í„° ìƒì„±
- **íŠ¹ì§•**: ë…¸ë“œí’€ ë¶ˆí•„ìš”, GKE ìë™ ê´€ë¦¬

### **3. í´ëŸ¬ìŠ¤í„° ìƒì„± (ê³ ê¸‰ Standard ëª¨ë“œ)**
- **íŒŒì¼**: `í´ëŸ¬ìŠ¤í„° ìƒì„± (ê³ ê¸‰ Standard ëª¨ë“œ).bru`
- **ì„¤ëª…**: ê³ ê¸‰ ë³´ì•ˆ ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì •
- **íŠ¹ì§•**: í”„ë¼ì´ë¹— ë…¸ë“œ, ì œí•œëœ ë§ˆìŠ¤í„° ì ‘ê·¼, ê¸°ë³¸ ë…¸ë“œí’€ ì œê±°

### **4. í´ëŸ¬ìŠ¤í„° ìƒì„± (ë¹„ìš© ìµœì í™” ëª¨ë“œ)**
- **íŒŒì¼**: `í´ëŸ¬ìŠ¤í„° ìƒì„± (ë¹„ìš© ìµœì í™” ëª¨ë“œ).bru`
- **ì„¤ëª…**: ë¹„ìš© ìµœì í™”ëœ í´ëŸ¬ìŠ¤í„° ìƒì„±
- **íŠ¹ì§•**: Preemptible ë…¸ë“œ, ìµœì†Œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©

## ğŸ”§ **ì‚¬ì „ ì¤€ë¹„ì‚¬í•­**

### **1. ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ ìƒì„±**
```bash
# VPC ìƒì„±
POST /api/v1/gcp/network/vpcs

# ì„œë¸Œë„· ìƒì„±
POST /api/v1/gcp/network/subnets

# ë°©í™”ë²½ ê·œì¹™ ìƒì„±
POST /api/v1/gcp/network/firewall-rules
```

### **2. í•„ìš”í•œ ê¶Œí•œ**
- `container.clusters.create`
- `container.clusters.get`
- `container.clusters.update`
- `container.clusters.delete`
- `container.nodePools.create`
- `container.nodePools.get`
- `container.nodePools.update`
- `container.nodePools.delete`

## ğŸš€ **ì‹¤í–‰ ìˆœì„œ**

### **1. ê¸°ë³¸ í´ëŸ¬ìŠ¤í„° ìƒì„± (Standard)**
1. `í´ëŸ¬ìŠ¤í„° ìƒì„± (Standard ëª¨ë“œ).bru` ì‹¤í–‰
2. í´ëŸ¬ìŠ¤í„° ìƒì„± ì™„ë£Œ ëŒ€ê¸°
3. ë…¸ë“œí’€ ìƒíƒœ í™•ì¸

### **2. Autopilot í´ëŸ¬ìŠ¤í„° ìƒì„±**
1. `í´ëŸ¬ìŠ¤í„° ìƒì„± (Autopilot ëª¨ë“œ).bru` ì‹¤í–‰
2. í´ëŸ¬ìŠ¤í„° ìƒì„± ì™„ë£Œ ëŒ€ê¸°
3. ì›Œí¬ë¡œë“œ ë°°í¬ í…ŒìŠ¤íŠ¸

### **3. ê³ ê¸‰ í´ëŸ¬ìŠ¤í„° ìƒì„±**
1. ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ ì‚¬ì „ ìƒì„±
2. `í´ëŸ¬ìŠ¤í„° ìƒì„± (ê³ ê¸‰ Standard ëª¨ë“œ).bru` ì‹¤í–‰
3. ë³´ì•ˆ ì„¤ì • í™•ì¸
4. í”„ë¼ì´ë¹— ì ‘ê·¼ í…ŒìŠ¤íŠ¸

## ğŸ“Š **ëª¨ë“œë³„ ë¹„êµ**

| êµ¬ë¶„ | Standard | Autopilot |
|------|----------|-----------|
| **ë…¸ë“œí’€ ê´€ë¦¬** | ìˆ˜ë™ | ìë™ |
| **ë¹„ìš© ì œì–´** | ì„¸ë°€ | ì œí•œì  |
| **ì„±ëŠ¥ íŠœë‹** | ê°€ëŠ¥ | ì œí•œì  |
| **ë³µì¡ë„** | ë†’ìŒ | ë‚®ìŒ |
| **ì‚¬ìš© ì‚¬ë¡€** | í”„ë¡œë•ì…˜ | ê°œë°œ/í…ŒìŠ¤íŠ¸ |

## ğŸ” **ì£¼ìš” ì„¤ì • ì„¤ëª…**

### **ë„¤íŠ¸ì›Œí¬ ì„¤ì •**
- **private_nodes**: ë…¸ë“œì— ì™¸ë¶€ IP í• ë‹¹ ì—¬ë¶€
- **private_endpoint**: ë§ˆìŠ¤í„° API ì„œë²„ ì ‘ê·¼ ì œí•œ
- **master_authorized_networks**: ë§ˆìŠ¤í„° ì ‘ê·¼ í—ˆìš© ë„¤íŠ¸ì›Œí¬

### **ë…¸ë“œí’€ ì„¤ì •**
- **machine_type**: ë…¸ë“œ ë¨¸ì‹  íƒ€ì…
- **disk_type**: ë””ìŠ¤í¬ íƒ€ì… (pd-standard, pd-ssd, pd-balanced)
- **preemptible**: ì„ ì  ê°€ëŠ¥ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©
- **spot**: ìŠ¤íŒŸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©

### **ë³´ì•ˆ ì„¤ì •**
- **workload_identity**: ì›Œí¬ë¡œë“œ ì•„ì´ë´í‹°í‹° í™œì„±í™”
- **binary_authorization**: ë°”ì´ë„ˆë¦¬ ìŠ¹ì¸ í™œì„±í™”
- **network_policy**: ë„¤íŠ¸ì›Œí¬ ì •ì±… í™œì„±í™”

## âš ï¸ **ì£¼ì˜ì‚¬í•­**

1. **Standard ëª¨ë“œ**: ë…¸ë“œí’€ ì„¤ì •ì´ í•„ìˆ˜ì…ë‹ˆë‹¤
2. **Autopilot ëª¨ë“œ**: ë…¸ë“œí’€ ì„¤ì •ì„ í¬í•¨í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤
3. **ë„¤íŠ¸ì›Œí¬**: VPCì™€ ì„œë¸Œë„·ì´ ì‚¬ì „ì— ìƒì„±ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
4. **ê¶Œí•œ**: í•„ìš”í•œ GCP ê¶Œí•œì´ ì„œë¹„ìŠ¤ ê³„ì •ì— ë¶€ì—¬ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
5. **ë¦¬ì „**: í´ëŸ¬ìŠ¤í„°ì™€ ì„œë¸Œë„·ì´ ê°™ì€ ë¦¬ì „ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤

## ğŸ†˜ **ë¬¸ì œ í•´ê²°**

### **ì¼ë°˜ì ì¸ ì˜¤ë¥˜**
- **403 Forbidden**: ê¶Œí•œ ë¶€ì¡±
- **400 Bad Request**: ì˜ëª»ëœ ìš”ì²­ í˜•ì‹
- **409 Conflict**: í´ëŸ¬ìŠ¤í„° ì´ë¦„ ì¤‘ë³µ

### **ë””ë²„ê¹… ë°©ë²•**
1. ì„œë¹„ìŠ¤ ê³„ì • ê¶Œí•œ í™•ì¸
2. ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ ì¡´ì¬ í™•ì¸
3. ìš”ì²­ Body í˜•ì‹ ê²€ì¦
4. GCP ì½˜ì†”ì—ì„œ ë¦¬ì†ŒìŠ¤ ìƒíƒœ í™•ì¸
